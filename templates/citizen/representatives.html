{% extends "base.html" %}
{% set title = "My Representatives" %}

{% block content %}
<div class="representatives-page">

    <!-- =========================
         Page Header
    ========================== -->
    <div class="page-header">
        <h2>ğŸ›ï¸ Your Constituency Representatives</h2>
        <p class="page-subtext">
            These are the officially recognized representatives for your constituency.
        </p>
    </div>

    {% if representatives %}
        <div class="rep-list">
            {% for rep in representatives %}
                <div class="rep-card">

                    <!-- Role Badge -->
                    <div class="rep-role rep-role-{{ rep.type|lower }}">
                        {% if rep.type == "ELECTED_REP" %}
                            ğŸ§‘â€âš–ï¸ Elected Representative
                        {% else %}
                            âš–ï¸ Opposition Representative
                        {% endif %}
                    </div>

                    <!-- Representative Info -->
                    <div class="rep-info">

    <p class="rep-name">
        <strong>{{ rep.candidate_name or "Name not available" }}</strong>
    </p>
    <div class="rep-photo">
    <img
        src="{{ rep.photo_url or url_for('static', filename='img/default-avatar.png') }}"
        alt="Representative photo"
    >
</div>


    <p class="rep-party">
        ğŸ› {{ rep.party_name or "Independent" }}
    </p>

    <p class="rep-term">
        ğŸ“… Term:
        {{ rep.term_start}}
        â†’
        {{ rep.term_end or "Ongoing"}}
    </p>

    <p class="rep-note">
        {% if rep.type == "ELECTED_REP" %}
            Responsible for addressing and resolving civic issues.
        {% else %}
            Participates in debate and oversight of governance.
        {% endif %}
    </p>

</div>


                    <!-- Actions -->
                    <div class="rep-actions">
                        <a
                            href="{{ url_for('rep_policy.policy_feed_for_rep', rep_user_id=rep.user_id) }}"

                            class="btn-secondary"
                        >
                            View Updates
                        </a>
                    </div>

                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <p>No representatives found for your constituency.</p>
        </div>
    {% endif %}

</div>
{% endblock %}
